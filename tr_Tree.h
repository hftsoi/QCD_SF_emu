float m_sel_trg_ic_ratio,m_sel_id_ic_ratio_1,m_sel_id_ic_ratio_2,zptmass_weight_nom;
float t_trg_mediumDeepTau_ditau_embed_ratio_1,t_trg_mediumDeepTau_ditau_embed_ratio_up_1,t_trg_mediumDeepTau_ditau_embed_ratio_down_1,t_trg_mediumDeepTau_ditau_embed_ratio_2,t_trg_mediumDeepTau_ditau_embed_ratio_up_2,t_trg_mediumDeepTau_ditau_embed_ratio_down_2,t_trg_mediumDeepTau_ditau_ratio_1,t_trg_mediumDeepTau_ditau_ratio_up_1,t_trg_mediumDeepTau_ditau_ratio_down_1,t_trg_mediumDeepTau_ditau_ratio_2,t_trg_mediumDeepTau_ditau_ratio_up_2,t_trg_mediumDeepTau_ditau_ratio_down_2;
float e_trk_ratio,e_idiso_ic_ratio,e_trg_ic_ratio,e_trg_24_ic_ratio,e_trg_24_ic_embed_ratio,t_trg_mediumDeepTau_etau_embed_ratio,e_trg_ic_embed_ratio,et_emb_LooseChargedIsoPFTau30_kit_ratio,e_trg_ic_data,e_trg_24_ic_data,t_trg_mediumDeepTau_etau_data,e_trk_embed_ratio,e_idiso_ic_embed_ratio,t_trg_pog_deeptau_medium_etau_ratio,t_trg_pog_deeptau_medium_etau_ratio_up,t_trg_pog_deeptau_medium_etau_ratio_down,t_trg_mediumDeepTau_etau_embed_ratio_up,t_trg_mediumDeepTau_etau_embed_ratio_down;
float m_trk_ratio,m_trg_ic_ratio,t_trg_pog_deeptau_medium_mutau_ratio,t_trg_pog_deeptau_medium_mutau_ratio_up,t_trg_pog_deeptau_medium_mutau_ratio_down,m_trg_19_ic_ratio,m_trg_20_ic_ratio,m_trg_20_ratio,m_trg_MuTau_Mu20Leg_desy_ratio,m_idiso_ic_embed_ratio,m_idiso_ic_ratio,m_trg_ic_embed_ratio,t_trg_mediumDeepTau_mutau_embed_ratio,t_trg_mediumDeepTau_mutau_embed_ratio_up,t_trg_mediumDeepTau_mutau_embed_ratio_down,m_trg_19_ic_embed_ratio,m_trg_20_ic_embed_ratio;
float m_sv,eta_sv,pt_sv,phi_sv;
float m_sv_JESUp, m_sv_JESDown, m_sv_UESUp, m_sv_UESDown, pt_sv_JESUp, pt_sv_JESDown, pt_sv_UESUp, pt_sv_UESDown, m_sv_tauESDown, m_sv_tauESUp, m_sv_tauDM0ESDown, m_sv_tauDM0ESUp, m_sv_tauDM1ESDown, m_sv_tauDM1ESUp, m_sv_tauDM10ESDown, m_sv_tauDM10ESUp, m_sv_tauDM11ESDown, m_sv_tauDM11ESUp, m_sv_muonESUp, m_sv_muonESDown, m_sv_electronESUp, m_sv_electronESDown;
  float m_sv_JetAbsoluteUp, m_sv_JetAbsoluteyearUp, m_sv_JetBBEC1Up, m_sv_JetBBEC1yearUp, m_sv_JetEC2Up, m_sv_JetEC2yearUp, m_sv_JetFlavorQCDUp, m_sv_JetHFUp, m_sv_JetHFyearUp, m_sv_JetRelativeBalUp, m_sv_JetRelativeSampleUp, m_sv_JERUp;
  float m_sv_JetAbsoluteDown, m_sv_JetAbsoluteyearDown, m_sv_JetBBEC1Down, m_sv_JetBBEC1yearDown, m_sv_JetEC2Down, m_sv_JetEC2yearDown, m_sv_JetFlavorQCDDown, m_sv_JetHFDown, m_sv_JetHFyearDown, m_sv_JetRelativeBalDown, m_sv_JetRelativeSampleDown, m_sv_JERDown;
float lheweight_muR0p5_muF0p5,lheweight_muR0p5_muF1,lheweight_muR0p5_muF2,lheweight_muR1_muF0p5,lheweight_muR1_muF2,lheweight_muR2_muF0p5,lheweight_muR2_muF1,lheweight_muR2_muF2,PythiaWeight_fsr_muR0p25,PythiaWeight_fsr_muR0p5,PythiaWeight_fsr_muR2,PythiaWeight_fsr_muR4,PythiaWeight_isr_muR0p25,PythiaWeight_isr_muR0p5,PythiaWeight_isr_muR2,PythiaWeight_isr_muR4;
float gentau1_eta, gentau1_pt, gentau2_eta, gentau2_pt;
float gen_met_pt, gen_met_phi, gen_tauh_pt, gen_tauh_eta, gen_tauh_phi, gen_mu_pt, gen_mu_eta, gen_mu_phi, HTTgenfinalstate;
float L1iso, L1pt, bweight;
float met_responseUp, met_responseDown, met_resolutionUp, met_resolutionDown;
float metphi_responseUp, metphi_responseDown, metphi_resolutionUp, metphi_resolutionDown;
float met_JetAbsoluteUp, met_JetAbsoluteDown, metphi_JetAbsoluteUp, metphi_JetAbsoluteDown;
float met_JetAbsoluteyearUp, met_JetAbsoluteyearDown, metphi_JetAbsoluteyearUp, metphi_JetAbsoluteyearDown;
float met_JetBBEC1Up, met_JetBBEC1Down, metphi_JetBBEC1Up, metphi_JetBBEC1Down;
float met_JetBBEC1yearUp, met_JetBBEC1yearDown, metphi_JetBBEC1yearUp, metphi_JetBBEC1yearDown;
float met_JetEC2Up, met_JetEC2Down, metphi_JetEC2Up, metphi_JetEC2Down;
float met_JetEC2yearUp, met_JetEC2yearDown, metphi_JetEC2yearUp, metphi_JetEC2yearDown;
float met_JetFlavorQCDUp, met_JetFlavorQCDDown, metphi_JetFlavorQCDUp, metphi_JetFlavorQCDDown;
float met_JetHFUp, met_JetHFDown, metphi_JetHFUp, metphi_JetHFDown;
float met_JetHFyearUp, met_JetHFyearDown, metphi_JetHFyearUp, metphi_JetHFyearDown;
float met_JetRelativeBalUp, met_JetRelativeBalDown, metphi_JetRelativeBalUp, metphi_JetRelativeBalDown;
float met_JetRelativeSampleUp, met_JetRelativeSampleDown, metphi_JetRelativeSampleUp, metphi_JetRelativeSampleDown;
float met_JERUp, met_JERDown, metphi_JERUp, metphi_JERDown;
float jcsv_1, jcsv_2;
float mjj_JetAbsoluteUp, mjj_JetAbsoluteyearUp, mjj_JetBBEC1Up, mjj_JetBBEC1yearUp, mjj_JetEC2Up, mjj_JetEC2yearUp, mjj_JetFlavorQCDUp, mjj_JetHFUp, mjj_JetHFyearUp, mjj_JetRelativeBalUp, mjj_JetRelativeSampleUp, mjj_JERUp;
float mjj_JetAbsoluteDown, mjj_JetAbsoluteyearDown, mjj_JetBBEC1Down, mjj_JetBBEC1yearDown, mjj_JetEC2Down, mjj_JetEC2yearDown, mjj_JetFlavorQCDDown, mjj_JetHFDown, mjj_JetHFyearDown, mjj_JetRelativeBalDown, mjj_JetRelativeSampleDown, mjj_JERDown;
float jpt_1_JetAbsoluteUp, jpt_1_JetAbsoluteyearUp, jpt_1_JetBBEC1Up, jpt_1_JetBBEC1yearUp, jpt_1_JetEC2Up, jpt_1_JetEC2yearUp, jpt_1_JetFlavorQCDUp, jpt_1_JetHFUp, jpt_1_JetHFyearUp, jpt_1_JetRelativeBalUp, jpt_1_JetRelativeSampleUp, jpt_1_JERUp;
float jpt_1_JetAbsoluteDown, jpt_1_JetAbsoluteyearDown, jpt_1_JetBBEC1Down, jpt_1_JetBBEC1yearDown, jpt_1_JetEC2Down, jpt_1_JetEC2yearDown, jpt_1_JetFlavorQCDDown, jpt_1_JetHFDown, jpt_1_JetHFyearDown, jpt_1_JetRelativeBalDown, jpt_1_JetRelativeSampleDown, jpt_1_JERDown;
int njets_JetAbsoluteUp, njets_JetAbsoluteyearUp, njets_JetBBEC1Up, njets_JetBBEC1yearUp, njets_JetEC2Up, njets_JetEC2yearUp, njets_JetFlavorQCDUp, njets_JetHFUp, njets_JetHFyearUp, njets_JetRelativeBalUp, njets_JetRelativeSampleUp, njets_JERUp;
int njets_JetAbsoluteDown, njets_JetAbsoluteyearDown, njets_JetBBEC1Down, njets_JetBBEC1yearDown, njets_JetEC2Down, njets_JetEC2yearDown, njets_JetFlavorQCDDown, njets_JetHFDown, njets_JetHFyearDown, njets_JetRelativeBalDown, njets_JetRelativeSampleDown, njets_JERDown;

float byTightDPF_2,byVVVLooseDeepVSjet_2,byVVLooseDeepVSjet_2,byVLooseDeepVSjet_2,byLooseDeepVSjet_2,byMediumDeepVSjet_2,byTightDeepVSjet_2,byVTightDeepVSjet_2,byVVTightDeepVSjet_2;
float byVVVLooseDeepVSmu_2,byVVLooseDeepVSmu_2,byVLooseDeepVSmu_2,byLooseDeepVSmu_2,byMediumDeepVSmu_2,byTightDeepVSmu_2,byVTightDeepVSmu_2,byVVTightDeepVSmu_2;
float byVVVLooseDeepVSe_2,byVVLooseDeepVSe_2,byVLooseDeepVSe_2,byLooseDeepVSe_2,byMediumDeepVSe_2,byTightDeepVSe_2,byVTightDeepVSe_2,byVVTightDeepVSe_2;
int njets, nbtag, nbtagL;
float mjj;
float m_trg_8_ic_data,e_trg_23_ic_data,m_trg_23_ic_data,e_trg_12_ic_data,m_trg_8_ic_mc,e_trg_23_ic_mc,m_trg_23_ic_mc,e_trg_12_ic_mc,m_trg_8_ic_embed,e_trg_23_ic_embed,m_trg_23_ic_embed,e_trg_12_ic_embed;
float matchMu8E23_2,matchMu8E23_1,filterMu8E23_2,filterMu8E23_1;
float matchMu23E12_2,matchMu23E12_1,filterMu23E12_2,filterMu23E12_1;
float passMu8E23, passMu23E12;
float matchMu8E23DZ_2,matchMu8E23DZ_1,filterMu8E23DZ_2,filterMu8E23DZ_1;
float matchMu23E12DZ_2,matchMu23E12DZ_1,filterMu23E12DZ_2,filterMu23E12DZ_1;
float passMu8E23DZ, passMu23E12DZ;
float passMu24, passMu27, passMu20Tau27, passMu20HPSTau27;
float matchMu24_1, matchMu27_1, matchMu20Tau27_1, matchMu20Tau27_2, matchMu20HPSTau27_1, matchMu20HPSTau27_2;
float filterMu24_1, filterMu27_1, filterMu20Tau27_1, filterMu20Tau27_2, filterMu20HPSTau27_1, filterMu20HPSTau27_2;
float passMu22eta2p1, passTkMu22eta2p1, passMu19Tau20, passMu19Tau20SingleL1;
float matchMu22eta2p1_1, matchTkMu22eta2p1_1, matchMu19Tau20SingleL1_1, matchMu19Tau20SingleL1_2, matchMu19Tau20_1, matchMu19Tau20_2;
float filterMu22eta2p1_1, filterTkMu22eta2p1_1, filterMu19Tau20SingleL1_1, filterMu19Tau20SingleL1_2, filterMu19Tau20_1, filterMu19Tau20_2;
float passMu22, passTkMu22, matchMu22_1, matchTkMu22_1, filterMu22_1, filterTkMu22_1;
float byVVLooseIsolationMVArun2v2DBoldDMwLT_2, byVLooseIsolationMVArun2v2DBoldDMwLT_2, byLooseIsolationMVArun2v2DBoldDMwLT_2, byMediumIsolationMVArun2v2DBoldDMwLT_2, byTightIsolationMVArun2v2DBoldDMwLT_2, byVTightIsolationMVArun2v2DBoldDMwLT_2, byVVTightIsolationMVArun2v2DBoldDMwLT_2, byIsolationMVArun2v2DBoldDMwLTraw_2, byIsolationMVA3oldDMwLTraw_2;
float Rivet_VEta,Rivet_VPt,Rivet_errorCode,Rivet_higgsEta,Rivet_higgsPt,Rivet_nJets25,Rivet_nJets30,Rivet_p4decay_VEta,Rivet_p4decay_VPt,Rivet_prodMode,Rivet_stage0_cat,Rivet_stage1_1_cat_pTjet30GeV,Rivet_stage1_1_fine_cat_pTjet30GeV, Rivet_stage1_cat_pTjet30GeV,Rivet_higgsRapidity,Rivet_j1pt,Rivet_j1eta,Rivet_j1phi,Rivet_j1m,Rivet_j2pt,Rivet_j2eta,Rivet_j2phi,Rivet_j2m;
int run, lumi, evt, NUP = -10;
int gen_match_1, gen_match_2=0;
float npu, rho, npv=-1, puweight, weight, numGenJets,jetPt_2;
float e_1, px_1, py_1, pz_1, pt_1, phi_1, eta_1, m_1, q_1, d0_1, dZ_1, mt_1, iso_1, l1_decayMode, isoDB_1;
float e_2, px_2, py_2, pz_2, pt_2, phi_2, eta_2, m_2, q_2, d0_2, dZ_2, mt_2, iso_2, l2_decayMode;
float je_1, jmass_1, jpt_1, jpx_1, jpy_1, jpz_1, jeta_1, jphi_1, jrawf_1, jmva_1, jpfid_1, jpuid_1;
float je_2, jmass_2, jpx_2, jpy_2, jpz_2, jpt_2, jeta_2, jphi_2, jrawf_2, jmva_2, jpfid_2, jpuid_2;
float bpt_1, beta_1, bphi_1, brawf_1, bmva_1, bpfid_1, bpuid_1, bflavor_1, bm_1, bscore_1;
float bpt_2, beta_2, bphi_2, brawf_2, bmva_2, bpfid_2, bpuid_2, bflavor_2, bm_2, bscore_2;
float bpt_deepflavour_1, beta_deepflavour_1, bphi_deepflavour_1, bflavour_deepflavour_1, bm_deepflavour_1, bscore_deepflavour_1;
float bpt_deepflavour_2, beta_deepflavour_2, bphi_deepflavour_2, bflavour_deepflavour_2, bm_deepflavour_2, bscore_deepflavour_2;
float bpt_deepcsv_1, beta_deepcsv_1, bphi_deepcsv_1, bflavour_deepcsv_1, bm_deepcsv_1, bscore_deepcsv_1;
float bpt_deepcsv_2, beta_deepcsv_2, bphi_deepcsv_2, bflavour_deepcsv_2, bm_deepcsv_2, bscore_deepcsv_2;
float met, metphi, metcov00,metcov01,metcov10,metcov11;
float met_UESDown, met_UESUp, metphi_UESDown, metphi_UESUp;
float top_reweighting, gen_Higgs_pt, gen_Higgs_mass=1.0;
float extraelec_veto, extramuon_veto, dilepton_veto=false;
float met_px, met_py,genpX,genpY,vispX,vispY,metSig,genpT,genM;
float pt_top1, pt_top2, genweight;
float decayModeFinding_2, againstElectronTightMVA6_2, againstElectronVTightMVA6_2, againstElectronVLooseMVA6_2, againstElectronMediumMVA6_2, againstElectronLooseMVA6_2, againstMuonLoose3_2, againstMuonTight3_2;
float Flag_BadChargedCandidateFilter, Flag_BadPFMuonFilter, Flag_EcalDeadCellTriggerPrimitiveFilter, Flag_HBHENoiseFilter, Flag_HBHENoiseIsoFilter, Flag_badCloneMuon, Flag_badGlobalMuon, Flag_eeBadScFilter, Flag_globalTightHalo2016Filter, Flag_goodVertices, Flag_globalSuperTightHalo2016Filter, Flag_badMuons, Flag_duplicateMuons, Flag_ecalBadCalibFilter, Flag_ecalBadCalibReducedMINIAODFilter;
float matchEmbFilter_Mu20Tau27_1,matchEmbFilter_Mu24_1,matchEmbFilter_Mu27_1,matchEmbFilter_Mu20Tau27_2,matchEmbFilter_Mu20HPSTau27_2;
float matchEmbFilter_Mu19Tau20_1,matchEmbFilter_Mu19Tau20_2;
float genpt_1, genpt_2, geneta_1, geneta_2;
float prefiring_weight, prefiring_weight_up, prefiring_weight_down;

float byTightDPF_1,byVVVLooseDeepVSjet_1,byVVLooseDeepVSjet_1,byVLooseDeepVSjet_1,byLooseDeepVSjet_1,byMediumDeepVSjet_1,byTightDeepVSjet_1,byVTightDeepVSjet_1,byVVTightDeepVSjet_1;
float byVVVLooseDeepVSmu_1,byVVLooseDeepVSmu_1,byVLooseDeepVSmu_1,byLooseDeepVSmu_1,byMediumDeepVSmu_1,byTightDeepVSmu_1,byVTightDeepVSmu_1,byVVTightDeepVSmu_1;
float byVVVLooseDeepVSe_1,byVVLooseDeepVSe_1,byVLooseDeepVSe_1,byLooseDeepVSe_1,byMediumDeepVSe_1,byTightDeepVSe_1,byVTightDeepVSe_1,byVVTightDeepVSe_1;
float byVVLooseIsolationMVArun2v2DBoldDMwLT_1, byVLooseIsolationMVArun2v2DBoldDMwLT_1, byLooseIsolationMVArun2v2DBoldDMwLT_1, byMediumIsolationMVArun2v2DBoldDMwLT_1, byTightIsolationMVArun2v2DBoldDMwLT_1, byVTightIsolationMVArun2v2DBoldDMwLT_1, byVVTightIsolationMVArun2v2DBoldDMwLT_1, byIsolationMVArun2v2DBoldDMwLTraw_1, byIsolationMVA3oldDMwLTraw_1;
float passDoubleTightTau35TightID, passDoubleMediumTau40TightID, passDoubleTightTau40ID, passDoubleMediumHPSTau35, passDoubleTau35, passDoubleTauCmb35;
float matchEmbFilter_1, matchEmbFilter_2;
float matchDoubleTauCmb35_1, matchDoubleTauCmb35_2, filterDoubleTauCmb35_1, filterDoubleTauCmb35_2;
float matchDoubleTau35_1, matchDoubleTau35_2, filterDoubleTau35_1, filterDoubleTau35_2;
float matchDoubleTightTau35TightID_1, matchDoubleMediumTau40TightID_1, matchDoubleTightTau40ID_1, matchDoubleMediumHPSTau35_1;
float filterDoubleTightTau35TightID_1, filterDoubleMediumTau40TightID_1, filterDoubleTightTau40ID_1, filterDoubleMediumHPSTau35_1;
float matchDoubleTightTau35TightID_2, matchDoubleMediumTau40TightID_2, matchDoubleTightTau40ID_2, matchDoubleMediumHPSTau35_2;
float filterDoubleTightTau35TightID_2, filterDoubleMediumTau40TightID_2, filterDoubleTightTau40ID_2, filterDoubleMediumHPSTau35_2;

  float matchEmbFilter_Ele24Tau30_1,matchEmbFilter_Ele32DoubleL1v1_1,matchEmbFilter_Ele32DoubleL1v2_1,matchEmbFilter_Ele32_1,matchEmbFilter_Ele35_1,matchEmbFilter_Ele24Tau30_2;
  float passEle25, passEle27, passEle32, passEle35, passEle24Tau30, passEle24HPSTau30;
  float matchEle25_1, matchEle27_1, matchEle32_1, matchEle35_1, matchEle24Tau30_1, matchEle24Tau30_2, matchEle24HPSTau30_1, matchEle24HPSTau30_2;
  float filterEle25_1, filterEle27_1, filterEle32_1, filterEle35_1, filterEle24Tau30_1, filterEle24Tau30_2, filterEle24HPSTau30_1, filterEle24HPSTau30_2;

